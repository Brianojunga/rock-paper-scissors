<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock-paper-scissors</title>
</head>
<body>
    <script>
        function getComputerChoice(){
            let result = Math.random()
            if (result <= 1/3){
                return "rock";
            }else if (result <= 2/3){
                return "scissors";
            }else{
                return "paper";
        }}

        function getHumanChoice(){
            while(true){
                const humanChoice = window.prompt("Input your choice : ")
                if (humanChoice === null){
                    return null;
                }
                
                const humanChoiceLower = humanChoice.toLowerCase()
                if (humanChoiceLower === 'rock' || humanChoiceLower === "scissors" || humanChoiceLower ==="paper"){
                    return humanChoiceLower
                }else{
                    alert("input valid choice")}
                }
        }
            
        let humanScore = 0;
        let computerScore = 0;
        let tieScore = 0;
        

        function playRound(humanChoice, computerChoice){
            if (humanChoice === computerChoice){
                tieScore +=1;
                return "IT'S A TIE."
            }
            else if (humanChoice === "rock" && computerChoice === "scissors" || humanChoice === "scissors" && computerChoice==="paper" ||   humanChoice=== "paper" && computerChoice === "rock"){
                 humanScore += 1;
                return "YOU WIN."

            } 
            else{
               computerScore += 1;    
               return "YOU LOSE." 
         }}
        
        let cancelGame = false;

        for(let i = 1; i <= 5; i++){
            let personChoice = getHumanChoice();
            let compChoice = getComputerChoice()

            console.log(`Round ${i}`)
            if (personChoice === null){
                console.log(`"YOU QUIT.THE COMPUTER WON"`);
                cancelGame = true;
                break;  
            }

            
            console.log(`You picked ${personChoice}`)
            console.log(`The computer picked ${compChoice}`)
            console.log(playRound(personChoice, compChoice))
            console.log(`Your score: ${humanScore}, computer score: ${computerScore}, tie: ${tieScore}` )
            console.log("\n")
         }
         if(!cancelGame){
            if (computerScore > humanScore){
            console.log(`"COMPUTER WINS"`)
         } else if(humanScore > computerScore){
            console.log(`"YOU WIN"`)
         } else{
            console.log(`"Y0U TIED WITH THE COMPUTER"`)
         }
         }
         

    </script>
</body>
</html>